% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_common_trend.R
\name{fit_common_trend}
\alias{fit_common_trend}
\title{Fit Polynomial Regression for One Unit (with optional covariates)}
\usage{
fit_common_trend(
  data,
  unit,
  deg,
  unit_var,
  time_var,
  outcome_var,
  treat_time_var,
  covariate_vars = NULL,
  beta_hat = NULL
)
}
\arguments{
\item{data}{The full data frame.}

\item{unit}{A single unit (e.g., state or municipality) to subset on.}

\item{unit_var}{Name of the unit variable (string).}

\item{time_var}{Name of the time variable (string).}

\item{outcome_var}{Name of the outcome variable (string).}

\item{treat_time_var}{Name of the treatment year variable (string).}

\item{covariate_vars}{Optional character vector of covariate names.}

\item{beta_hat}{Optional vector of estimated coefficients for covariates.}

\item{degree}{Degree of the polynomial used for fitting (integer).}
}
\value{
A data frame containing all time periods for that unit and a \code{preds} column.
}
\description{
This function fits a unit-specific polynomial trend to pre-treatment data.
If covariates are provided, it subtracts the expected contribution of those
covariates using a common beta (pooled across units) before estimating the trend.
}
